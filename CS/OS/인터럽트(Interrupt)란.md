## μΈν„°λ½νΈ(Interrupt)λ€?
- CPUκ°€ νΉμ • κΈ°λ¥μ„ μν–‰ν•λ” λ„μ¤‘μ— κΈ‰ν•κ² λ‹¤λ¥Έ μΌμ„ μ²λ¦¬ν•κ³ μ ν•  λ• μ‚¬μ©ν•  μ μλ” κΈ°λ¥μ΄λ‹¤.

- ν”„λ΅μ„Έμ¤ μ‹¤ν–‰ λ„μ¤‘ μκΈ°μΉ μ•μ€ μƒν™©μ΄ λ°μƒν•  λ•, λ°μƒν• μƒν™©μ„ μ²λ¦¬ν• ν›„ μ‹¤ν–‰ μ¤‘μΈ μ‘μ—…μΌλ΅ λ³µκ·€ν•λ” κ²ƒμ„ λ§ν•λ‹¤.

- μ£Όλ΅ μ…μ¶λ ¥ μ¥μΉμ signal, dataκ°€ λ°μƒν•  λ•κΉμ§€ μ›λμ μ‘μ—…μ„ μν–‰ν•λ‹¤κ°€ ν•΄λ‹Ή κΈ°λ¥μ„ μ²λ¦¬ν•λ” κ²ƒμ΄λ‹¤. (μ™Έλ¶€ μΈν„°λ½νΈ)
<br>
<hr>
<br>

### β” μΆ…λ¥
**ν•λ“μ›¨μ–΄μ  μΈν„°λ½νΈ**
- μ „μ› μ΄μƒ, κΈ°κ³„ μ°©μ¤, μ™Έλ¶€ μ‹ νΈ, μ…μ¶λ ¥ λ“± ν”„λ΅μ„Έμ¤ μ™Έλ¶€μ—μ„ λ°μƒν•λ” μΈν„°λ½νΈ
  - μ „μ› μ΄μƒ μΈν„°λ½νΈ : μ •μ „μ΄λ‚ μ „μ›μ΄ μ΄μƒμ΄ μλ” κ²½μ°
  - κΈ°κ³„ κ³ μ¥ μΈν„°λ½νΈ : CPUλ“±μ κΈ°λ¥μ μΈ λ™μ‘ μ¤λ¥κ°€ λ°μƒν• κ²½μ°
  - μ…μ¶λ ¥ μΈν„°λ½νΈ(I/O Interrupt): μ…μ¶λ ¥μ μΆ…λ£ λ“±μ μ΄μ λ΅ CPUμ μν–‰μ„ μ”μ²­ν•λ” μΈν„°λ½νΈ.
<br>
<br>

**μ†ν”„νΈμ›¨μ–΄μ  μΈν„°λ½νΈ**
- ν”„λ΅μ„Έμ¤ λ‚΄λ¶€μ—μ„ μλ»λ λ…λ Ήμ–΄, λ°μ΄ν„°λ΅ exceptionμ΄ λ°μƒν•λ” κ²ƒμ΄λ©° trapμ΄λΌκ³  λ¶λ¦Ό
  - 0μΌλ΅ λ‚λ„λ” κ²½μ°
  - μ¤λ²„ν”λ΅μ° λλ” μ–Έλ”ν”λ΅μ°κ°€ λ°μƒν• κ²½μ°
  - ν”„λ΅κ·Έλ¨ μƒμ μ¤λ¥
  - ν”„λ΅κ·Έλ¨μ—μ„ ν•¨μ λ“± λ…λ Ήμ–΄λ¥Ό μλ» μ‚¬μ©ν• κ²½μ°
  - μμ™Έλ¥Ό μ²λ¦¬ν•λ μ¤‘ λ λ‹¤λ¥Έ μμ™Έκ°€ λ°μƒν•  κ²½μ°, Double Faultμ΄λΌκ³  λ¶€λ¥Έλ‹¤.
<br>
<hr>
<br>

### β” μΈν„°λ½νΈκ°€ λ°μƒν•λ” μ΄μ 
- μ…μ¶λ ¥ μ—°μ‚°μ΄ CPU λ…λ Ή μν–‰μ†λ„λ³΄λ‹¤ ν„μ €ν λλ¦¬κΈ° λ•λ¬Έμ΄λ‹¤. 

- CPUλ” μ„±λ¥μ„ μµλ€λ΅ λ°νν•κΈ° μ„ν•¨μ΄λ‹¤.
  - CPUλ” λ‹¨μ‹κ°„μ— λ§μ€ μ—°μ‚°μ„ μ²λ¦¬ν•  μ μλ” λ¥λ ¥μ„ κ°€μ΅μΌλ―€λ΅, μ…μ¶λ ¥ μ—°μ‚°μ„ ν•λ” λ™μ• CPUκ°€ μ‰¬κ²λλ©΄ μ†ν•΄μ΄λ‹¤.
  - κ·Έλ¬λ―€λ΅ λ‹¤λ¥Έ μ‘μ—… μ¤‘μ—λ„ CPU μ„±λ¥μ„ ν™μ©ν•κΈ° μ„ν•΄ ISRμ„ν†µν•΄ μ‘μ—…μ„ μ²λ¦¬ν•λ‹¤.
  - μ‘μ—…μ„ μ™„λ£ν•λ©΄ CPUμ—κ² μ‘μ—… μ™„λ£λ¥Ό μ•λ ¤μ£Όλ” κ²ƒμ΄ μΈν„°λ½νΈμ΄λ‹¤.
  - μΈν„°λ½νΈκ°€ λλ©΄ CPUλ” κΈ°μ΅΄μ— μ§„ν–‰ν–μ—λ μ‘μ—…μ΄ μλ‹¤λ©΄ μ΄μ–΄μ„ ν•λ‹¤.
<br>
<hr>
<br>

### β” μΈν„°λ½νΈ κ³Όμ •
process A μ‹¤ν–‰ μ¤‘ λ””μ¤ν¬μ—μ„ μ–΄λ–¤ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤λΌλ” λ…λ Ήμ„ λ°›μ•λ‹¤κ³  κ°€μ •ν•΄λ³΄μ.

- process Aλ” system callμ„ ν†µν•΄ μΈν„°λ½νΈλ¥Ό λ°μƒμ‹ν‚¨λ‹¤.

- CPUλ” ν„μ¬ μ§„ν–‰ μ¤‘μΈ κΈ°κ³„μ–΄ μ½”λ“λ¥Ό μ™„λ£ν•λ‹¤.

- ν„μ¬κΉμ§€ μν–‰μ¤‘μ΄μ—λ μƒνƒλ¥Ό ν•΄λ‹Ή processμ PCB(Process Control Block)μ— μ €μ¥ν•λ‹¤. (μν–‰μ¤‘μ΄λ MEMORYμ£Όμ†, λ μ§€μ¤ν„° κ°’, ν•λ“μ›¨μ–΄ μƒνƒ λ“±...)

- PC(Program Counter, IP)μ— λ‹¤μμ— μ‹¤ν–‰ν•  λ…λ Ήμ μ£Όμ†λ¥Ό μ €μ¥ν•λ‹¤.

- μΈν„°λ½νΈ λ²΅ν„°λ¥Ό μ½κ³  ISR μ£Όμ†κ°’μ„ μ–»μ–΄ ISR(Interrupt Service Routine)λ΅ μ ν”„ν•μ—¬ λ£¨ν‹΄μ„ μ‹¤ν–‰ν•λ‹¤.

- ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ‹¤.

- ν•΄λ‹Ή μΌμ„ λ‹¤ μ²λ¦¬ν•λ©΄, λ€ν”Όμ‹ν‚¨ λ μ§€μ¤ν„°λ¥Ό λ³µμ›ν•λ‹¤.

- ISRμ λμ— IRET λ…λ Ήμ–΄μ— μν•΄ μΈν„°λ½νΈκ°€ ν•΄μ  λλ‹¤.

- IRET λ…λ Ήμ–΄κ°€ μ‹¤ν–‰λλ©΄, λ€ν”Όμ‹ν‚¨ PC κ°’μ„ λ³µμ›ν•μ—¬ μ΄μ „ μ‹¤ν–‰ μ„μΉλ΅ λ³µμ›ν•λ‹¤.
<br>
<hr>
<br>

### β” μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄(ISR : Interrupt Service Routine)
- μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄ μ²λ¦¬ν•κΈ° μ„ν• λ£¨ν‹΄μΈ ISRμ΄ μ‹¤ν–‰λλ‹¤.

![image](https://github.com/yejun95/Today-I-Learned/assets/121341413/df86c6ad-5713-45ad-842d-e87417fc12e2)
<br>
<br>

- μ£Ό ν”„λ΅κ·Έλ¨ μ‘μ—… μν–‰ μ¤‘ μΈν„°λ½νΈ λ°μƒ
- μ£Ό ν”„λ΅κ·Έλ¨ μƒνƒ λ μ§€μ¤ν„°μ™€ PC λ“±μ„ μ¤νƒμ— μ μ‹ μ €μ¥
- μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μΌλ΅ μ ν”„, μ²λ¦¬
- λ‹¤μ‹ μ£Ό ν”„λ΅κ·Έλ¨ μ‘μ—… λ³µκ·€
<br>
<hr>
<br>

### β” μΈν„°λ½νΈμ™€ νΉκ¶ λ…λ Ή
- CPUκ°€ μν–‰ν•λ” λ…λ Ήμ—λ” μΌλ° λ…λ Ήκ³Ό νΉκ¶ λ…λ Ήμ΄ μλ‹¤.

- μΌλ° λ…λ Ήμ€ λ©”λ¨λ¦¬μ—μ„ μλ£λ¥Ό μ½μ–΄μ¤κ³ , CPUμ—μ„ κ³„μ‚°μ„ ν•λ” λ“±μ λ…λ Ήμ΄κ³  λ¨λ“  ν”„λ΅κ·Έλ¨μ΄ μν–‰ν•  μ μλ” λ…λ Ήμ΄λ‹¤.
  - user mode

- νΉκ¶ λ…λ Ήμ€ λ³΄μ•μ΄ ν•„μ”ν• λ…λ ΉμΌλ΅ μ…μ¶λ ¥ μ¥μΉ, νƒ€μ΄λ¨Έ λ“±μ μ¥μΉλ¥Ό μ ‘κ·Όν•λ” λ…λ Ήμ΄λ‹¤. 
  - π’΅ νΉκ¶ λ…λ Ήμ€ ν•­μƒ μ΄μμ²΄μ λ§μ΄ μν–‰ν•  μ μλ‹¤.
  - kernel mode
<br>

**μμ‹**
- process Aκ°€ ν”„λ΅κ·Έλ¨ λ…λ Ή μν–‰μ¤‘μ— λ””μ¤ν¬ μ…μ¶λ ¥ λ…λ Ήμ„ μ½μ€ κ²½μ°λ¥Ό μƒκ°ν•΄ λ³΄μ. 
  - μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ€ μ…μ¶λ ¥ μ¥μΉμ— μ ‘κ·Όν•λ” λ…λ Ήμ„ μν–‰ν•  μ μ—†λ‹¤.
  - user modeμ—μ„ νΉκ¶ λ…λ Ήμ„ μν–‰ν•  μ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.
<br>

- μ΄λ ¨ κ²½μ°μ— μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ€ μ΄μμ²΄μ μ—κ² μ‹μ¤ν… μ½μ„ ν†µν•΄ νΉκ¶λ…λ Ήμ„ λ€μ‹  μν–‰ν•΄λ‹¬λΌκ³  μ”μ²­ν•λ‹¤.
  - μ‹μ¤ν… μ½μ€ μ£Όμ† κ³µκ°„ μμ²΄κ°€ λ‹¤λ¥Έ κ³³(μ»¤λ„μ codeμμ—­)μΌλ΅ μ΄λ™ν•΄μ•Ό ν•λ―€λ΅ **ν”„λ΅κ·Έλ¨μ΄ μΈν„°λ½νΈ λΌμΈμ— μΈν„°λ½νΈλ¥Ό μ„Έν…ν•λ” λ…λ Ή**μ„ ν†µν•΄ μ΄λ£¨μ–΄μ§„λ‹¤.
  - μ‹μ¤ν… μ½ : μ»¤λ„ μμ—­μ κΈ°λ¥μ„ μ‚¬μ©μ λ¨λ“κ°€ μ‚¬μ© κ°€λ¥ν•κ², μ¦‰ ν”„λ΅μ„Έμ¤κ°€ ν•λ“μ›¨μ–΄μ— μ§μ ‘ μ ‘κ·Όν•΄μ„ ν•„μ”ν• κΈ°λ¥μ„ μ‚¬μ©ν•  μ μκ² ν•΄μ¤€λ‹¤.
  - CPUκ°€ μΈν„°λ½νΈλ¥Ό κ°μ§€ν•μ—¬ μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ„ μ μ‹ λ©μ¶”κ³  CPUμ μ μ–΄κ¶μ„ μ΄μμ²΄μ μ—κ² μ–‘λ„ν•λ” κ²ƒμ΄λ‹¤.
<br>
<br>

![image](https://github.com/yejun95/Today-I-Learned/assets/121341413/067ca262-f37d-40ed-b46a-874e1be8754e)
<br>
<hr>
<br>

**Reference**<br>

[wannabeking : μΈν„°λ½νΈ(Interrupt)λ€?](https://velog.io/@pppp0722/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8Interrupt%EB%9E%80)<br>
[λ‚λ¬΄μ„ν‚¤ : μΈν„°λ½νΈ](https://namu.wiki/w/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)<br>
[adam2.log : [OSκΈ°μ΄] μΈν„°λ½νΈ μ λ€λ΅ μ΄ν•΄ν•κΈ°](https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)
